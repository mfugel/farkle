<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>FARKLE v0.3 – Confetti on Win + Sound Toggle</title>
    <meta name="description" content="FARKLE v0.3 – Flawless multiplayer with SVG dice, perfect scoring, sound toggle + EPIC confetti explosion on victory!">
    <style>
        :root{--d1:#ff6b6b;--d2:#4834d4;--d3:#00d2d3;--d4:#ff9ff3;--d5:#54a0ff;--d6:#5f27cd}
        body{font-family:Segoe UI,Tahoma,sans-serif;background:linear-gradient(135deg,#667eea,#764ba2);color:#fff;margin:0;padding:20px;min-height:100vh;position:relative;overflow-x:hidden}
        .c{max-width:1000px;margin:0 auto;background:rgba(0,0,0,.4);border-radius:16px;padding:24px;box-shadow:0 8px 32px rgba(0,0,0,.3)}
        h1{text-align:center;font-size:2.8em;margin:0 0 10px;text-shadow:0 2px 4px rgba(0,0,0,.5)}
        .setup{background:rgba(255,255,255,.1);padding:20px;border-radius:12px;margin-bottom:20px;text-align:center}
        .setup-row{display:flex;justify-content:center;gap:12px;margin:15px 0;flex-wrap:wrap;align-items:center}
        input[type=number]{padding:8px 12px;border-radius:6px;border:none;background:rgba(255,255,255,.2);color:#fff;width:120px}
        .player-list{display:flex;flex-wrap:wrap;gap:10px;justify-content:center;margin:15px 0}
        .player-item{display:flex;gap:8px;background:rgba(255,255,255,.15);padding:8px 12px;border-radius:8px}
        .player-item input{background:rgba(255,255,255,.2);border:none;color:#fff;padding:6px 8px;border-radius:6px;width:120px}
        .player-item button{background:#e74c3c;color:#fff;border:none;padding:4px 8px;border-radius:4px;cursor:pointer}
        button{background:#3498db;color:#fff;border:none;padding:10px 16px;border-radius:8px;cursor:pointer;font-weight:bold;transition:.2s}
        button:hover{transform:translateY(-2px);box-shadow:0 4px 12px rgba(0,0,0,.3)}
        button:disabled{opacity:.5;cursor:not-allowed}
        .top-controls{display:flex;justify-content:center;gap:15px;margin:20px 0;flex-wrap:wrap;align-items:center}
        .sound-btn{background:#9b59b6 !important}
        .current-player,.target-score{font-size:1.5em;text-align:center;margin:15px 0;padding:12px;background:rgba(255,255,255,.15);border-radius:12px}
        .dice-container{display:flex;justify-content:center;gap:12px;flex-wrap:wrap;margin:30px 0;perspective:600px}
        .die{width:70px;height:70px;border-radius:12px;cursor:pointer;transition:.3s;box-shadow:0 4px 12px rgba(0,0,0,.3);border:4px solid transparent;position:relative;overflow:hidden}
        .die.rolling{animation:r .8s cubic-bezier(.2,.8,.4,1)}
        @keyframes r{0%{transform:translateY(0) rotateX(0)}100%{transform:translateY(-20px) rotateX(720deg) rotateY(720deg)}}
        .die:hover:not(.kept):not(.rolling){transform:scale(1.08)}
        .die.scoring{border-color:#f1c40f !important;box-shadow:0 0 30px #f1c40f}
        .die.kept{border-color:#2ecc71 !important;box-shadow:0 0 30px #2ecc71;transform:scale(.95);cursor:default}
        .die.d1{background:var(--d1)}.die.d2{background:var(--d2)}.die.d3{background:var(--d3)}.die.d4{background:var(--d4)}.die.d5{background:var(--d5)}.die.d6{background:var(--d6)}
        .die svg{width:100%;height:100%}
        .dot{fill:#fff}
        .score-board{display:grid;grid-template-columns:repeat(auto-fit,minmax(180px,1fr));gap:12px;margin:20px 0}
        .player-score{background:rgba(255,255,255,.15);padding:12px;border-radius:12px;text-align:center}
        .player-score.current{border:3px solid #f1c40f;transform:scale(1.05)}
        .player-score.winner{border:3px solid
